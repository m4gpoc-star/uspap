<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Settings · Learn USPAP with Hydy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <meta name="theme-color" content="#1f2933" />

  <link rel="stylesheet" href="style.css" />

  <style>
    .settings-main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 1.2rem;
      gap: 1.2rem;
      max-width: 700px;
      margin: 0 auto;
    }

    .settings-card {
      border-radius: 18px;
      padding: 1.2rem 1.4rem;
      border: 1px solid #1f2937;
      background: linear-gradient(135deg, #111827, #1f2933);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.4);
    }

    .settings-section-title {
      font-size: 1.1rem;
      margin-bottom: 0.8rem;
    }

    .voice-list {
      list-style: none;
      padding-left: 0;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .voice-item label {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      font-size: 0.95rem;
      cursor: pointer;
    }

    .voice-item small {
      display: block;
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 0.2rem;
    }

    .settings-actions {
      margin-top: 0.8rem;
      display: flex;
      justify-content: flex-end;
    }

    .settings-credit {
      margin-top: 1.2rem;
      font-size: 0.9rem;
      line-height: 1.5;
      color: #e5e7eb;
    }

    .settings-credit span {
      display: block;
      margin-bottom: 0.3rem;
    }
  </style>
</head>
<body>
  <header class="app-header">
    <h1>Settings</h1>
    <p class="subtitle">Choose quiz reading voice · 选择测验朗读声音</p>
    <button class="link-button" onclick="window.location.href='index.html'">
      ← Back to Home
    </button>
  </header>

  <main class="settings-main">
    <section class="settings-card">
      <h2 class="settings-section-title">Quiz Voice · 测验朗读声音</h2>

      <form id="voice-form">
        <ul class="voice-list">
          <li class="voice-item">
            <label>
              <input type="radio" name="voice" value="google_us" />
              <div>
                <div>Google US English </div>

              </div>
            </label>
          </li>

          <li class="voice-item">
            <label>
              <input type="radio" name="voice" value="aria" />
              <div>
                <div>Microsoft Aria </div>

              </div>
            </label>
          </li>

          <li class="voice-item">
            <label>
              <input type="radio" name="voice" value="samantha" />
              <div>
                <div>Samantha </div>

              </div>
            </label>
          </li>
        </ul>

<li class="voice-item">
  <label>
    <input type="radio" name="voice" value="mute" />
    <div>
      <div>Mute / 静音</div>
    </div>
  </label>
</li>


        <div class="settings-actions">
          <button type="submit">Save · 保存</button>
        </div>
      </form>

      <div class="settings-credit">
        <span>汪汪汪，Hydy绝对是个大牛逼，他建立了这个APP，他特么超级聪明，心地善良，而且长得很帅。</span>
        <span>Hydy is awesome. He built this app. He is smart, kind-hearted, and very handsome.</span>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <p>Voice settings are saved on this device only.</p>
  </footer>

  <script>
    const VOICE_KEY = "uspapVoicePreference";

    // 页面加载时，把之前的选择勾上
    document.addEventListener("DOMContentLoaded", () => {
      const saved = localStorage.getItem(VOICE_KEY);
      if (saved) {
        const input = document.querySelector(
          'input[name="voice"][value="' + saved + '"]'
        );
        if (input) {
          input.checked = true;
        }
      }
    });

    // 保存设置
    document.getElementById("voice-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const checked = document.querySelector('input[name="voice"]:checked');
      if (!checked) {
        alert("请选择一个声音 / Please choose a voice.");
        return;
      }
      localStorage.setItem(VOICE_KEY, checked.value);
      alert("已保存。下次做 Quiz 时会尽量使用这个声音。\\nSaved. The quiz will try to use this voice.");
    });
  </script>
</body>
</html>
