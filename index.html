<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>USPAP@Hydy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#020617" />

  <!-- Android: ä½œä¸º Web App æ‰“å¼€ -->
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- iOS: å…¨å± Web App æ¨¡å¼ -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="USPAP Hydy" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="app-header">
<h1>
  Learn <span class="usp-highlight">USPAP</span> with
  <span class="hydy-highlight">Hydy</span>
</h1>
    <p class="subtitle">Choose a study mode</p>
  </header>

<div class="card-grid">

  <!-- Flashcardsï¼šæ”¹æˆ blue -->
<div class="home-card blue" onclick="location.href='flashcards.html'">
  <h2>ğŸ“š Flashcards</h2>
  <p>Swipe through key USPAP terms and concepts.</p>
  <button>Study mode</button>
</div>

<div class="home-card blue">
  <h2>ğŸ§ Read Definition </h2>
  <p>Kimberly read for you review.</p>

  <div class="audio-controls">
    <button onclick="audioPlay()" class="audio-btn">â–¶</button>
    <button onclick="audioPause()" class="audio-btn">â¸</button>
    <button onclick="audioStop()" class="audio-btn">â¹</button>
  </div>
</div>



<!-- Definitionsï¼šä¿æŒ green -->
<div class="home-card green" onclick="location.href='definitions.html'">
  <h2>ğŸ“– Definitions</h2>
  <p>Definitions quizzes 1-3.</p>
  <button>Test mode</button>
</div>

<!-- Ruleï¼šä» blue æ”¹æˆ green -->
<div class="home-card green" onclick="location.href='rule.html'">
  <h2>ğŸ“˜ Rule</h2>
  <p>Rules quizzes 4-6.</p>
  <button>Test mode</button>
</div>

<!-- Standardï¼šä» blue æ”¹æˆ green -->
<div class="home-card green" onclick="location.href='standard.html'">
  <h2>ğŸ“™ Standard</h2>
  <p>Standards quizzes 7-12.</p>
  <button>Test mode</button>
</div>

<!-- Settingsï¼šä¿æŒ dark -->
<div class="home-card dark" onclick="location.href='settings.html'">
  <h2>âš™ï¸ Settings</h2>
  <p>Choose your quiz reading voice and credits.</p>
  <button>Voice & About</button>
</div>

<!-- Wrong Questionsï¼šä¿æŒ red -->
<div class="home-card red" onclick="location.href='wrong.html'">
  <h2>ğŸ¯ Wrong Questions</h2>
  <p>Redo incorrect answers and clear your weak points.</p>
  <button>Focus mistakes</button>
</div>

  <footer class="app-footer">
    <p>USPAP self-study helper Â· For personal learning only.</p>
  </footer>

  <script>
// Audio player for read1.mp3
let read1Audio = null;
let read1LastPosition = 0;

function ensureAudio() {
  if (!read1Audio) {
    read1Audio = new Audio("read1.mp3");
    read1Audio.preload = "auto";

    // æ’­æ”¾ç»“æŸåï¼Œä½ç½®å½’é›¶
    read1Audio.addEventListener("ended", () => {
      read1LastPosition = 0;
    });
  }
}

function audioPlay() {
  try {
    ensureAudio();

    // ä»ä¸Šæ¬¡æš‚åœçš„ä½ç½®ç»§ç»­æ’­
    if (read1LastPosition > 0) {
      read1Audio.currentTime = read1LastPosition;
    }

    read1Audio.play().catch(e => console.error(e));
  } catch (e) {
    console.error(e);
  }
}

function audioPause() {
  try {
    if (!read1Audio) return;
    // å…ˆè®°å½•å½“å‰ä½ç½®ï¼Œå†æš‚åœ
    read1LastPosition = read1Audio.currentTime;
    read1Audio.pause();
  } catch (e) {
    console.error(e);
  }
}

function audioStop() {
  try {
    if (!read1Audio) return;
    read1Audio.pause();
    read1Audio.currentTime = 0;
    read1LastPosition = 0;
  } catch (e) {
    console.error(e);
  }
}

  </script>

</body>
</html>
